/* Category Columns -- Isotop custom layout mode */// 
// See: http://isotope.metafizzy.co/custom-layout-modes/big-graph.html
// Usage:
//     $container.isotope({
//         itemSelector: '.element',
//         layoutMode: 'categoryCols',
//         categoryCols: {
//             columnWidth: 45, // size of item
//             rowHeight: 45, // size of item
//             maxRows: 11, // max number of items vertically
//             gutterWidth: { // width of gutter, needs to match getSortData names
//                 year: 0,
//                 scale: 0,
//                 program: 35,
//                 status: 80,
//                 title: 0
//             }
//         },
//         sortBy: 'year',
//         getSortData: {
//             year: function( $elem ) {
//                 return $elem.attr('data-year');
//             },
//             scale: function( $elem ) {
//                 return $elem.attr('data-scale');
//             },
//             program: function( $elem ) {
//                 return $elem.attr('data-program');
//             },
//             status: function( $elem ) {
//                 return $elem.attr('data-status');
//             },
//             title: function( $elem ) {
//                 var chara = $elem.find('p').text()[0];
//                 return isNaN( parseInt( chara ) ) ? chara : '0';
//             }
//         }
//     });
$.extend($.Isotope.prototype,{_categoryColsReset:function(){this.categoryCols={x:0,y:0,height:0,column:0,row:0,gutter:0,currentCategory:null}},_categoryColsLayout:function(a){var b=this,c=this.element.width(),d=this.options.categoryCols,e=this.options.sortBy,f={},g=this.categoryCols;a.each(function(){var a=$.data(this,"isotope-sort-data")[e];f[a]=f[a]||[],f[a].push(this)});var h,i,j,k,l=d.gutterWidth[e],m,n;for(i in f)h=f[i],k=h.length,j=k/Math.ceil(k/d.maxRows),$.each(h,function(a,c){m=g.column*d.columnWidth+g.gutter*l,n=(d.maxRows-g.row-1)*d.rowHeight,b._pushPosition($(c),m,n),g.row>=j-1?(g.row=0,g.column++):g.row++}),g.row>0&&(g.row=0,g.column++),g.gutter++;g.gutter--,g.width=g.column*d.columnWidth+g.gutter*l},_categoryColsGetContainerSize:function(){return opts=this.options.categoryCols,this.categoryCols.column++,{width:this.categoryCols.width,height:opts.maxRows*opts.rowHeight}},_categoryColsResizeChanged:function(){return!1}});